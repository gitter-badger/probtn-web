!function(a){var b="Unbekannt",c="";screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",c+=""+width+" x "+height);var i,j,k,d=navigator.appVersion,e=navigator.userAgent,f=navigator.appName,g=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10);-1!=(j=e.indexOf("Opera"))?(f="Opera",g=e.substring(j+6),-1!=(j=e.indexOf("Version"))&&(g=e.substring(j+8))):-1!=(j=e.indexOf("MSIE"))?(f="Microsoft Internet Explorer",g=e.substring(j+5)):-1!=(j=e.indexOf("Chrome"))?(f="Chrome",g=e.substring(j+7)):-1!=(j=e.indexOf("Safari"))?(f="Safari",g=e.substring(j+7),-1!=(j=e.indexOf("Version"))&&(g=e.substring(j+8))):-1!=(j=e.indexOf("Firefox"))?(f="Firefox",g=e.substring(j+8)):(i=e.lastIndexOf(" ")+1)<(j=e.lastIndexOf("/"))&&(f=e.substring(i,j),g=e.substring(j+1),f.toLowerCase()==f.toUpperCase()&&(f=navigator.appName)),-1!=(k=g.indexOf(";"))&&(g=g.substring(0,k)),-1!=(k=g.indexOf(" "))&&(g=g.substring(0,k)),h=parseInt(""+g,10),isNaN(h)&&(g=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10));var l=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(d),m=navigator.cookieEnabled?!0:!1;"undefined"!=typeof navigator.cookieEnabled||m||(document.cookie="testcookie",m=-1!=document.cookie.indexOf("testcookie")?!0:!1);var n=b,o=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var p in o){var q=o[p];if(q.r.test(e)){n=q.s;break}}var r=b;switch(/Windows/.test(n)&&(r=/Windows (.*)/.exec(n)[1],n="Windows"),n){case"Mac OS X":r=/Mac OS X (10[\.\_\d]+)/.exec(e)[1];break;case"Android":r=/Android ([\.\_\d]+)/.exec(e)[1];break;case"iOS":r=/OS (\d+)_(\d+)_?(\d+)?/.exec(d),r=r[1]+"."+r[2]+"."+(0|r[3])}a.jscd={screen:c,browser:f,browserVersion:g,mobile:l,os:n,osVersion:r,cookies:m}}(this),function(a){a.fn.StartButton=function(b){function c(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+1e3*60*60*24*c);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/",console.log("Cookies:"),console.log(a+"="+b+e+"; path=/"),console.dir(document.cookie)}function d(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null}function n(){function b(){p.stop(!0,!0).animate({opacity:f.CloseActiveOpacity,width:f.CloseActiveSize.W,height:f.CloseActiveSize.H,left:a("#closeButton").position().left-(f.CloseActiveSize.W-f.CloseSize.W)/2,top:a("#closeButton").position().top-(f.CloseActiveSize.H-f.CloseSize.H)/2},1e3*f.CloseActiveDuration,"swing",function(){})}console.log("CloseActiveAnimation"),setTimeout(b,1e3*f.CloseActiveDelay)}function o(){function d(){p.stop(!0,!0).animate({opacity:f.CloseOpacity,width:f.CloseSize.W,height:f.CloseSize.H,left:c,top:b},1e3*f.CloseUnactiveDuration,"swing",function(){})}console.log("CloseUnactiveAnimation");var b=(a("body").innerHeight()-p.height())/2+a(window).scrollTop(),c=(a("body").innerWidth()-p.width())/2+a(window).scrollLeft();setTimeout(d,1e3*f.CloseUnactiveDelay)}function q(){this.css("top",(a("body").innerHeight()-this.height())/2+a(window).scrollTop()+"px"),this.css("left",(a("body").innerWidth()-this.width())/2+a(window).scrollLeft()+"px")}function r(){function a(){p.stop(!0,!0).fadeIn(1e3*f.CloseShowDuration)}q.call(p),setTimeout(a,1e3*f.CloseShowDelay)}function s(){function a(){p.stop(!0,!0).fadeOut(1e3*f.CloseHideDuration)}setTimeout(a,1e3*f.CloseHideDelay)}console.dir(b),String.prototype.hashCode=function(){var b,c,a=0;if(0==this.length)return a;for(b=0,l=this.length;l>b;b++)c=this.charCodeAt(b),a=(a<<5)-a+c,a|=0;return a};var f=a.extend({type:"iframe",fancyboxJsPath:"http://vknopke.azurewebsites.net/libs/fancybox/jquery.fancybox.js",fancyboxCssPath:"http://vknopke.azurewebsites.net/libs/fancybox/jquery.fancybox.css",mainStyleCss:"style.css",jqueryPepPath:"http://vknopke.azurewebsites.net/libs/jquery.pep.min.js",buttonAnimationTimeAfterFancybox:400,ContentURL:"http://app.ecwid.com/jsp/2557212/m",BaseInsets:{T:4,B:4,L:4,R:4},ButtonEnabled:!0,ButtonVisible:!0,ButtonOpenInsets:{T:32,B:32,L:32,R:32},ButtonPosition:{X:123,Y:123},ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpenSize:{W:64,H:64},ButtonInactiveSize:{W:64,H:64},ButtonOpacity:.8,ButtonDragOpacity:1,ButtonOpenOpacity:1,ButtonInactiveOpacity:.5,ButtonImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/gray.png",ButtonDragImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/drag_gray.png",ButtonOpenImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/drag_gray.png",ButtonInactiveImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/drag_gray.png",ClosePosition:{X:123,Y:123},CloseSize:{W:64,H:64},CloseActiveSize:{W:72,H:72},CloseOpacity:.6,CloseActiveOpacity:1,CloseImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/close.png",CloseActiveImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/close.png",HintInsets:{T:4,B:4,L:4,R:4},HintLabelInsets:{T:4,B:4,L:4,R:4},HintImageInsets:{T:8,B:8,L:8,R:8},HintText:"This is HintButton",HintFont:{Family:"Arial",Size:18},HintFontColor:{R:1,G:1,B:1,A:1},HintOpacity:.8,HintImage:"http://vknopke.azurewebsites.net/PizzaBtn/Images/hint.png",HintArrowSize:{W:8,H:8},HintArrowOffset:{T:0,B:0,L:0,R:0},HintArrowImageT:"",HintArrowImageB:"",HintArrowImageL:"",HintArrowImageR:"",ContentInsets:{T:-2,B:-2,L:-2,R:-2},ContentWebViewInsets:{T:12,B:12,L:12,R:12},ContentImageInsets:{T:32,B:32,L:32,R:32},ContentOpacity:1,ContentBackOpacity:1,ContentBackColor:{R:0,G:0,B:0,A:1},ContentActivityColor:{R:0,G:0,B:0,A:1},ContentImage:"",ContentArrowSize:{W:14,H:14},ContentArrowOffset:{T:8,B:8,L:9,R:9},ContentArrowImageT:"",ContentArrowImageB:"",ContentArrowImageL:"",ContentArrowImageR:"",DefaultDuration:.1,DefaultDelay:0,OpenDuration:.2,OpenDelay:.5,CloseDuration:.2,CloseDelay:.5,ButtonShowDuration:.2,ButtonShowDelay:0,ButtonHideDuration:.2,ButtonHideDelay:0,ButtonDragDuration:.1,ButtonDragDelay:0,ButtonUndragDuration:.2,ButtonUndragDelay:0,ButtonInactiveDuration:.1,ButtonInactiveDelay:5,ButtonInertiaSpeed:512,ButtonInertiaSpeedMin:32,ButtonInertiaSpeedMax:1024,ButtonInertiaFactor:6,CloseShowDuration:.1,CloseShowDelay:0,CloseHideDuration:.2,CloseHideDelay:0,CloseActiveDuration:.1,CloseActiveDelay:0,CloseUnactiveDuration:.1,CloseUnactiveDelay:0,HintLaunchDuration:3e4,HintLaunchDelay:0,HintShowDuration:.1,HintShowDelay:0,HintHideDuration:.2,HintHideDelay:0,ContentShowDuration:.1,ContentShowDelay:0,ContentHideDuration:.2,ContentHideDelay:0},b),g={opacity:f.HintOpacity,"font-size":f.HintFont.Size,"font-weight":f.HintFont.Family,color:"white",padding:"4px",background:"url('"+f.HintImage+"')"},h={width:"auto",height:"auto"},i={width:"100%",height:"100%"},j={width:f.ButtonSize.W+"px",height:f.ButtonSize.H+"px",opacity:f.ButtonOpacity},k={width:f.ButtonDragSize.W+"px",height:f.ButtonDragSize.H+"px",opacity:f.ButtonDragOpacity},m=!1,p=a("<img>").attr("id","closeButton").attr("src",f.CloseImage).addClass("close_pro_button_normal").css("position","absolute").prependTo("body");p.hide(),a("#closeButton").bind("cssClassChanged",function(a){console.log("=============1"),console.dir(a.delegateTarget),console.log("=============2")}),function(){var b=a.fn.addClass;console.log("originalAddClassMethod"),console.dir(b),jQuery.fn.addClass=function(){var c=b.apply(this,arguments);return a(this).trigger("cssClassAdded",arguments),"close_pro_button_active"==arguments[0]&&0==m&&(n(),m=!0),c}}(),function(){var b=a.fn.removeClass;console.log("originalRemoveClassMethod"),console.dir(b),jQuery.fn.removeClass=function(){var c=b.apply(this,arguments);return a(this).trigger("cssClassRemoved",arguments),"close_pro_button_active"==arguments[0]&&1==m&&(o(),m=!1),c}}();var t=0;a(document).ready(function(){function e(){function k(){try{"function"==typeof a.pep.toggleAll?B():a.getScript(f.jqueryPepPath,B)}catch(b){a.getScript(f.jqueryPepPath,B)}}function l(b,c,d,e){a.getJSON("http://pizzabtn.herokuapp.com/1/functions/updateUserStatistic?BundleID="+e+"&DeviceType=web&DeviceUID="+d+"&Statistic="+'{"'+b+'": "'+c+'"}&'+"X-ProBtn-Token=b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b&callback=?",function(a){try{console.log("Stats result:"),console.dir(a.result)}catch(b){}}).done(function(){}).fail(function(){}).always(function(){})}function m(a,e,f){var g="1234";if((""==a||null==a)&&(a="Opened"),(""==e||null==e)&&(e=1),null!=d("probtnId"));else{var h=new Date;h=h.getTime(),g=h.toString()+"-"+navigator.userAgent.toString().hashCode(),c("probtnId",g,365)}g=d("probtnId"),(""!=g||null!=g)&&(g="1234"),""==f||null==f?l(a,e,g,b):n(a,e,g,b)}function n(b,c,d,e){a.getJSON("http://pizzabtn.herokuapp.com/1/functions/updateCustomStatistic?BundleID="+e+"&DeviceType=web&DeviceUID="+d+"&Statistic="+'{"'+b+'": "'+c+'"}&'+"X-ProBtn-Token=b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b&callback=?",function(a){try{console.log("Custom stats result:"),console.dir(a.result)}catch(b){}}).done(function(){}).fail(function(){}).always(function(){})}function o(){m("Resolution",jscd.screen,1),m("Browser",jscd.browser,1),m("BrowserVersion",jscd.browserVersion,1),m("OS",jscd.os+" "+jscd.osVersion,1),console.log("navigator:"),console.dir(navigator)}function q(){i.stop(!0,!0).fadeOut(1e3*f.HintHideDuration,function(){e.hintActive=!1})}function u(){setTimeout(q,1e3*f.HintLaunchDuration)}function v(){function b(){i.stop(!0,!0).fadeIn(1e3*f.HintShowDuration,function(){e.hintActive=!0})}i.css(a.extend(g,{bottom:"-52px",position:"absolute"})),setTimeout(b,1e3*f.HintLaunchDelay)}function x(){function a(){e.stop(!0,!0).fadeIn(1e3*f.ButtonShowDuration)}e.css("display","none"),setTimeout(a,1e3*f.ButtonShowDelay)}function y(){function a(){e.stop(!0,!0).fadeOut(1e3*f.ButtonHideDuration)}setTimeout(a,1e3*f.ButtonHideDelay)}function z(){function a(){console.log("Starting DragButton animation"),h.stop(!0,!0).animate({opacity:f.ButtonDragOpacity,width:f.ButtonDragSize.W,height:f.ButtonDragSize.H},1e3*f.ButtonDragDuration,"swing",function(){h.css({width:f.ButtonDragSize.W,height:f.ButtonDragSize.H}),console.log("Finished DragButton animation")})}console.log("Starting DragButton function"),h.attr("src",f.ButtonDragImage),console.log(f.ButtonDragImage),setTimeout(a,1e3*f.ButtonDragDelay)}function A(){function a(){h.stop(!0,!0).animate({opacity:f.ButtonOpacity,width:f.ButtonSize.W,height:f.ButtonSize.H},1e3*f.ButtonUndragDuration,"swing",function(){h.css({width:f.ButtonSize.W,height:f.ButtonSize.H})})}h.attr("src",f.ButtonImage),setTimeout(a,1e3*f.ButtonUndragDelay)}function B(){function b(){function i(){"0px"!==g&&e.animate({top:a(window).height()-f.ButtonSize.H+"px"},150,"swing")}var b=e.position(),c=b.top,d=a(window).height(),g="0px",h=(d+f.ButtonSize.H)/2;c>=h&&(g=d-f.ButtonSize.H+"px"),t=c,a(document.body).bind("touchmove",function(a){a.preventDefault(),a.stopPropagation(),a.returnValue=!1}),m("ContentShowed",1),e.animate({top:g},f.buttonAnimationTimeAfterFancybox,"swing",function(){a.pep.toggleAll(!1),a.fancybox.open({href:f.ContentURL,type:"iframe",autoCenter:!0,scrolling:"yes",margin:[f.ButtonSize.H+5,f.ButtonSize.H/2,f.ButtonSize.H+5,f.ButtonSize.H/2],height:"100%",helpers:{overlay:{locked:!0}},beforeLoad:function(){a(window).bind(orientationEvent,i)},afterShow:function(){e.bind("click",a.fancybox.close)},afterClose:function(){e.animate({top:t+"px"},f.buttonAnimationTimeAfterFancybox,"swing",function(){a(document.body).unbind("touchmove"),a(window).unbind(orientationEvent),e.unbind("click"),a.pep.toggleAll(!0)})}})})}m(),m("Showed",1),o(),u(),v(),e.moved=!1,e.pep({useCSSTranslation:!1,constrainTo:"parent",cssEaseString:"cubic-bezier(0, .50, .50, 1)",cssEaseDuration:600,velocityMultiplier:1,droppable:"#closeButton",droppableActiveClass:"close_pro_button_active",initiate:function(){e.addClass("active")},start:function(){0==e.moved&&z(),e.moved=!0,e.hintActive&&q(),m("Moved",1),r()},stop:function(){e.moved?p.hasClass("close_pro_button_active")&&p.is(":visible")?(m("Closed",1),m("Hidded",1),y()):A():b(),s(),e.moved=!1,e.removeClass("active")}})}a("head").append('<link rel="stylesheet" href="'+f.mainStyleCss+'" type="text/css" />'),a("head").append('<link rel="stylesheet" href="'+f.fancyboxCssPath+'" type="text/css" />'),a("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch !important; overflow: scroll !important; } </style>"),a("head").append(a("<style/>",{id:"probtn_style",type:"text/css",html:["#pizzabtn.pizzabtn_normal { width:"+f.ButtonSize.W+"px; height:"+f.ButtonSize.H+"px; display: block; clear: both; }","#pizzabtn.pizzabtn_normal.active { background-image: url("+f.ButtonDragImage+") !important; background-size: cover !important; -webkit-background-size: cover;}",".close_pro_button_normal{ width:"+f.CloseSize.W+"px; height:"+f.CloseSize.H+"px; opacity:"+f.CloseOpacity+"; display: block; clear: both; }",".close_pro_button_active{ width:"+f.CloseActiveSize.W+"px !important; height:"+f.CloseActiveSize.H+"px !important; opacity:"+f.CloseActiveOpacity+" !important;}"].join("\n")}));var e=a("#pizzabtn");0===e.length&&(e=a("<div/>",{id:"pizzabtn",css:{display:"none"}}).prependTo(document.body),x()),e.addClass("pizzabtn_normal");var h=a("<img/>",{id:"pizzabtn_img",src:f.ButtonImage,css:{width:f.ButtonSize.W,height:f.ButtonSize.H,opacity:f.ButtonOpacity}}).appendTo(e),i=a("<span/>",{id:"hintText",css:{display:"none"},html:f.HintText}).appendTo(e),j="onorientationchange"in window;orientationEvent=j?"orientationchange":"resize","function"==typeof a.fancybox?k():a.getScript(f.fancyboxJsPath,k)}var b=document.domain;(""==b||null==b)&&(b="probtn.com"),a.getJSON("http://pizzabtn.herokuapp.com/1/functions/getClientSettings?BundleID="+b+"&DeviceType=web&Location[Longitude]=0&Location[Latitude]=0&Version=1.0&X-ProBtn-Token=b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b&callback=?",function(b){try{console.log("Data result:"),console.dir(b.result),a.extend(f,b.result),console.log("Extended params:"),console.dir(f),console.log("rgb("+100*f.HintFontColor.R+"%, "+100*f.HintFontColor.G+"%, "+100*f.HintFontColor.B+"%)"),g={opacity:f.HintOpacity,"font-size":f.HintFont.Size,"font-weight":f.HintFont.Family,color:"rgb("+100*f.HintFontColor.R+"%, "+100*f.HintFontColor.G+"%, "+100*f.HintFontColor.B+"%)","padding-left":f.HintLabelInsets.L,"padding-top":f.HintLabelInsets.T,"padding-right":f.HintLabelInsets.R,"padding-bottom":f.HintLabelInsets.B,background:"url('"+f.HintImage+"')"},h={width:"auto",height:"auto"},i={width:"100%",height:"100%"},j={width:f.ButtonSize.W+"px",height:f.ButtonSize.H+"px",opacity:f.ButtonOpacity},k={width:f.ButtonDragSize.W+"px",height:f.ButtonDragSize.H+"px",opacity:f.ButtonDragOpacity}}catch(c){}}).done(function(){}).fail(function(){}).always(e)})}}(jQuery);